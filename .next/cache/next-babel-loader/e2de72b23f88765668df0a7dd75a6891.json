{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Modal, message } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { formatCurrency } from \"../../common/utils\";\nimport QuantitySelector from \"../controls/QuantitySelector\";\nimport { removeFromCart, decreaseQuantityCart, increaseQuantityCart } from \"../../redux/actions/cartActions\";\n\nfunction CartSidebarItem({\n  data\n}) {\n  const dispatch = useDispatch();\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(data.cartQuantity);\n  const globalState = useSelector(state => state.globalReducer);\n  const {\n    currency,\n    locales\n  } = globalState.currency;\n\n  const onRemoveProductFromCart = e => {\n    e.preventDefault();\n    showModal();\n  };\n\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  const handleOk = e => {\n    dispatch(removeFromCart(data.cartId));\n    setVisible(false);\n    return message.error(\"Product removed from cart\");\n  };\n\n  const handleCancel = e => {\n    setVisible(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"cart-sidebar-item\"\n  }, __jsx(\"div\", {\n    className: \"cart-sidebar-item__image\"\n  }, __jsx(\"img\", {\n    src: data.thumbImage[0],\n    alt: \"Product image\"\n  })), __jsx(\"div\", {\n    className: \"cart-sidebar-item__content\"\n  }, __jsx(Link, {\n    href: process.env.PUBLIC_URL + `/product/[slug]`,\n    as: process.env.PUBLIC_URL + `/product/${data.slug}`\n  }, __jsx(\"a\", null, data.name)), __jsx(\"h5\", null, data.discount ? formatCurrency((data.price - data.discount) * data.cartQuantity, locales, currency) : formatCurrency(data.price * data.cartQuantity, locales, currency)), __jsx(QuantitySelector, {\n    size: \"small\",\n    defaultValue: data.cartQuantity,\n    min: 1,\n    max: data.quantity,\n    onDecrease: () => dispatch(decreaseQuantityCart(data.cartId)),\n    onIncrease: () => dispatch(increaseQuantityCart(data.cartId))\n  })), __jsx(\"div\", {\n    className: \"cart-sidebar-item__close\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    onClick: onRemoveProductFromCart\n  }, __jsx(\"i\", {\n    className: \"icon_close\"\n  })))), __jsx(Modal, {\n    title: \"Cofirm this action\",\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel\n  }, __jsx(\"p\", null, \"Are your sure to remove product from cart ?\")));\n}\n\nexport default React.memo(CartSidebarItem);","map":null,"metadata":{},"sourceType":"module"}